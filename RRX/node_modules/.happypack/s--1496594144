'use strict';

var _reactRedux = require('react-redux');

var connect = _reactRedux.connect;

var _actions = require('../actions');

var toggleTodo = _actions.toggleTodo;

var TodoList = require('../components/TodoList');

var getVisibleTodos = function getVisibleTodos(todos, filter) {
  switch (filter) {
    case 'SHOW_ALL':
      return todos;
    case 'SHOW_COMPLETED':
      return todos.filter(function (t) {
        return t.completed;
      });
    case 'SHOW_ACTIVE':
      return todos.filter(function (t) {
        return !t.completed;
      });
  }
};

var mapStateToProps = function mapStateToProps(state) {
  console.log(state);
  return {
    todos: getVisibleTodos(state.todos, state.visibilityFilter)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    onTodoClick: function onTodoClick(id) {
      dispatch(toggleTodo(id));
    }
  };
};

var VisibleTodoList = connect(mapStateToProps, mapDispatchToProps)(TodoList);

module.exports = VisibleTodoList;